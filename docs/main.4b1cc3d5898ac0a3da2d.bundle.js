webpackJsonp([1],{"+h1B":function(n,t,e){"use strict";var r=e("/oeL"),o=e("aR8+"),l=e("wQAS"),a=e("q4dy"),u=e("qbdv"),i=e("fc+i"),c=e("bm2B"),s=e("CPp0"),f=e("Npun");e.d(t,"a",function(){return h});var h=r.b(o.a,[l.a],function(n){return r.c([r.d(512,r.e,r.f,[[8,[a.a]],[3,r.e],r.g]),r.d(5120,r.h,r.i,[[3,r.h]]),r.d(4608,u.a,u.b,[r.h]),r.d(4608,r.j,r.j,[]),r.d(5120,r.k,r.l,[]),r.d(5120,r.m,r.n,[]),r.d(5120,r.o,r.p,[]),r.d(4608,i.b,i.c,[u.c]),r.d(6144,r.q,null,[i.b]),r.d(4608,i.d,i.e,[]),r.d(5120,i.f,function(n,t,e,r){return[new i.g(n),new i.h(t),new i.i(e,r)]},[u.c,u.c,u.c,i.d]),r.d(4608,i.j,i.j,[i.f,r.r]),r.d(135680,i.k,i.k,[u.c]),r.d(4608,i.l,i.l,[i.j,i.k]),r.d(6144,r.s,null,[i.l]),r.d(6144,i.m,null,[i.k]),r.d(4608,r.t,r.t,[r.r]),r.d(4608,i.n,i.n,[u.c]),r.d(4608,i.o,i.o,[u.c]),r.d(4608,c.a,c.a,[]),r.d(4608,s.a,s.a,[]),r.d(4608,s.b,s.c,[]),r.d(5120,s.d,s.e,[]),r.d(4608,s.f,s.f,[s.a,s.b,s.d]),r.d(4608,s.g,s.h,[]),r.d(5120,s.i,s.j,[s.f,s.g]),r.d(4608,f.a,f.a,[]),r.d(512,u.d,u.d,[]),r.d(1024,r.u,i.p,[]),r.d(1024,r.v,function(n,t){return[i.q(n,t)]},[[2,i.r],[2,r.w]]),r.d(512,r.x,r.x,[[2,r.v]]),r.d(131584,r.y,r.y,[r.r,r.z,r.A,r.u,r.e,r.x]),r.d(2048,r.B,null,[r.y]),r.d(512,r.C,r.C,[r.B]),r.d(512,i.s,i.s,[[3,i.s]]),r.d(512,c.b,c.b,[]),r.d(512,c.c,c.c,[]),r.d(512,s.k,s.k,[]),r.d(512,o.a,o.a,[])])})},0:function(n,t,e){n.exports=e("cDNt")},NhKt:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=['.game-container[_ngcontent-%COMP%]{position:absolute;width:440px;height:540px;top:0;left:0;bottom:0;right:0;margin:auto;color:#776e65;font-family:Clear Sans,Helvetica Neue,Arial,sans-serif}.game-header[_ngcontent-%COMP%]{height:120px}.game-header[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{font-size:5.5em;line-height:120px;float:left;margin-right:20px}.score[_ngcontent-%COMP%]{font-size:1.5em;padding:20px}.btn-new-game[_ngcontent-%COMP%]{padding:10px;border:none;background:#776e65;color:#fff;border-radius:3px;cursor:pointer;font-weight:700}.game-body[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#bbada0;border-radius:12px;padding:10px}.grid-cell[_ngcontent-%COMP%]{float:left;width:88px;height:88px;text-align:center;line-height:40px;padding:6px;background-color:hsla(30,37%,89%,.5);background-clip:content-box;border-radius:10px}.item-span[_ngcontent-%COMP%]{display:block;width:100%;height:100%;line-height:96px;font-weight:700;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-iteration-count:1;animation-iteration-count:1}.clearfix[_ngcontent-%COMP%]:after{content:"";display:block;height:0;clear:both;overflow:hidden}.clearfix[_ngcontent-%COMP%]{zoom:1}']},Npun:function(n,t,e){"use strict";var r=e("5v8a");e.n(r);e.d(t,"a",function(){return o});var o=function(){function n(){}return n.ctorParameters=function(){return[]},n}()},"aR8+":function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(){}return n}()},cDNt:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("/oeL"),o=e("p5Ee"),l=e("+h1B"),a=e("fc+i");o.a.production&&e.i(r.a)(),e.i(a.a)().bootstrapModuleFactory(l.a)},p5Ee:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r={production:!0}},q4dy:function(n,t,e){"use strict";function r(n){return c._17(0,[(n()(),c._18(0,null,null,3,"span",[["class","item-span animated"]],null,null,null,null,null)),c._19(278528,null,0,s.h,[c.m,c.o,c.Z,c._0],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c._20({zoomIn:0}),(n()(),c._21(null,["\n          ","\n        "]))],function(n,t){n(t,1,0,"item-span animated",n(t,2,0,t.parent.context.$implicit.isNew))},function(n,t){n(t,3,0,t.parent.context.$implicit.value)})}function o(n){return c._17(0,[(n()(),c._18(0,null,null,5,"div",[["class","grid-cell"]],null,null,null,null,null)),c._19(278528,null,0,s.i,[c.o,c.Z,c._0],{ngStyle:[0,"ngStyle"]},null),(n()(),c._21(null,["\n        "])),(n()(),c._22(16777216,null,null,1,null,r)),c._19(16384,null,0,s.j,[c._2,c._3],{ngIf:[0,"ngIf"]},null),(n()(),c._21(null,["\n      "]))],function(n,t){n(t,1,0,t.component.gridCellStyle(t.context.$implicit.value)),n(t,4,0,0!==t.context.$implicit.value)},null)}function l(n){return c._17(0,[(n()(),c._18(0,null,null,4,"div",[["class","grid-row"]],null,null,null,null,null)),(n()(),c._21(null,["\n      "])),(n()(),c._22(16777216,null,null,1,null,o)),c._19(802816,null,0,s.k,[c._2,c._3,c.m],{ngForOf:[0,"ngForOf"]},null),(n()(),c._21(null,["\n    "]))],function(n,t){n(t,3,0,t.context.$implicit)},null)}function a(n){return c._17(0,[(n()(),c._21(null,["\n"])),(n()(),c._18(0,null,null,19,"div",[["class","game-container"]],null,[[null,"keyup"]],function(n,t,e){var r=!0,o=n.component;if("keyup"===t){r=!1!==o.moveTo(e)&&r}return r},null,null)),(n()(),c._21(null,["\n  "])),(n()(),c._18(0,null,null,10,"div",[["class","game-header"]],null,null,null,null,null)),(n()(),c._21(null,["\n    "])),(n()(),c._18(0,null,null,1,"h1",[["class","title clearfix"]],null,null,null,null,null)),(n()(),c._21(null,["2048"])),(n()(),c._21(null,["\n    "])),(n()(),c._18(0,null,null,1,"h2",[["class","score"]],null,null,null,null,null)),(n()(),c._21(null,["Scorï¼š",""])),(n()(),c._21(null,["\n    "])),(n()(),c._18(0,null,null,1,"button",[["class","btn-new-game"]],null,[[null,"click"]],function(n,t,e){var r=!0,o=n.component;if("click"===t){r=!1!==o.initGameData()&&r}return r},null,null)),(n()(),c._21(null,["New Game"])),(n()(),c._21(null,["\n  "])),(n()(),c._21(null,["\n  "])),(n()(),c._18(0,null,null,4,"div",[["class","game-body"]],null,null,null,null,null)),(n()(),c._21(null,["\n    "])),(n()(),c._22(16777216,null,null,1,null,l)),c._19(802816,null,0,s.k,[c._2,c._3,c.m],{ngForOf:[0,"ngForOf"]},null),(n()(),c._21(null,["\n  "])),(n()(),c._21(null,["\n"]))],function(n,t){n(t,18,0,t.component.showArray)},function(n,t){n(t,9,0,t.component.gameScore)})}function u(n){return c._17(0,[(n()(),c._18(0,null,null,1,"app-root",[],null,[["window","keyup"]],function(n,t,e){var r=!0;if("window:keyup"===t){r=!1!==c._23(n,1).moveTo(e)&&r}return r},a,d)),c._19(114688,null,0,f.a,[],null,null)],function(n,t){n(t,1,0)},null)}var i=e("NhKt"),c=e("/oeL"),s=e("qbdv"),f=e("wQAS");e.d(t,"a",function(){return v});var h=[i.a],d=c._16({encapsulation:0,styles:h,data:{}}),v=c._24("app-root",f.a,u,{},{},[])},qtrl:function(n,t){function e(n){throw new Error("Cannot find module '"+n+"'.")}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id="qtrl"},wQAS:function(n,t,e){"use strict";var r=e("5v8a");e.n(r);e.d(t,"a",function(){return o});var o=function(){function n(){this.showArray=[[]],this.gameStatus=0,this.gameScore=0}return n.prototype.ngOnInit=function(){var n=this;this.initGameData(),setTimeout(function(){n.setNotNew()},500)},n.prototype.initGameData=function(){for(var n=0;n<4;n++){for(var t=[],e=0;e<4;e++)t.push(new l(0,!1));this.showArray[n]=t}this.log(this.showArray);var r=this.generateRandomNumber(),o=this.generateRandomNumber();this.showArray[r.row][r.column].value=r.value,this.showArray[r.row][r.column].isNew=!0,this.showArray[o.row][o.column].value=o.value,this.showArray[o.row][o.column].isNew=!0,this.gameStatus=0,this.gameScore=0},n.prototype.addNumber=function(n){if(this.log("addNumber"),this.isFull(n))return this.log("matrix is full!"),n;var t=this.generateRandomNumber();return 0!==n[t.row][t.column].value?this.addNumber(n):(0===n[t.row][t.column].value&&(n[t.row][t.column].value=t.value,n[t.row][t.column].isNew=!0),n)},n.prototype.generateRandomNumber=function(){var n=Math.round(9*Math.random())>7?4:2;return new a(Math.round(3*Math.random()),Math.round(3*Math.random()),n)},n.prototype.isFull=function(n){for(var t=0,e=n;t<e.length;t++)for(var r=e[t],o=0,l=r;o<l.length;o++){var a=l[o];if(0===a.value)return!1}return!0},n.prototype.moveTo=function(n){var t=this;if(-1!==this.gameStatus){switch(n.keyCode){case 37:this.showArray=this.moveLeftOrRight(this.showArray,"left");break;case 38:this.showArray=this.moveUpOrDown(this.showArray,"up");break;case 39:this.showArray=this.moveLeftOrRight(this.showArray,"right");break;case 40:this.showArray=this.moveUpOrDown(this.showArray,"down")}setTimeout(function(){t.setNotNew()},500),this.checkStatus(this.showArray)}},n.prototype.moveUpOrDown=function(n,t){this.log("up");var e=this.deepCopyArray(n);return this.log(t),n=this.moveRow(this.mergeRow(this.moveRow(n,t),t),t),this.compareArray(e,n)?n:this.addNumber(n)},n.prototype.moveLeftOrRight=function(n,t){this.log("up");var e=this.deepCopyArray(n);return this.log(t),n=this.moveCol(this.mergeCol(this.moveCol(n,t),t),t),this.compareArray(e,n)?n:this.addNumber(n)},n.prototype.moveRow=function(n,t,e){if(void 0===e&&(e=1),e===n.length)return n;var r=1;switch(t){case"up":r=-1;break;case"down":r=1}for(var o in n)for(var l in n[o])if(n.hasOwnProperty(+o+r)){var a=+o+r,u=+o;0===n[a][l].value&&(n[a][l].value=n[u][l].value,n[u][l].value=0)}return this.moveRow(n,t,e+1),n},n.prototype.mergeRow=function(n,t,e){void 0===e&&(e=1),this.log("mergeRow");var r=n.length;if(e===r)return n;var o=1;switch(t){case"up":for(var l in n)for(var a in n[l])if(n.hasOwnProperty(+l+o)){var u=+l+o,i=+l;0!==n[u][a].value&&n[u][a].value!==n[i][a].value||(n[i][a].value+=n[u][a].value,0!==n[u][a].value&&(this.gameScore+=n[i][a].value),n[u][a].value=0)}break;case"down":o=-1;for(var l in n)for(var a in n[l])if(n.hasOwnProperty(r-1-+l+o)){var u=r-1-+l+o,i=r-1-+l;0!==n[u][a].value&&n[u][a].value!==n[i][a].value||(n[i][a].value+=n[u][a].value,0!==n[u][a].value&&(this.gameScore+=n[i][a].value),n[u][a].value=0)}}return n},n.prototype.moveCol=function(n,t,e){if(void 0===e&&(e=1),e===n[0].length)return n;var r=1;switch(t){case"left":r=-1;break;case"right":r=1}for(var o in n)for(var l in n[o])if(n[o].hasOwnProperty(+l+r)){var a=+l+r,u=+l;0===n[o][a].value&&(n[o][a].value=n[o][u].value,n[o][u].value=0)}return this.moveCol(n,t,e+1),n},n.prototype.mergeCol=function(n,t,e){void 0===e&&(e=1),this.log("mergeCol");var r=n[0].length;if(e===r)return n;var o=1;switch(t){case"left":for(var l in n)for(var a in n[l])if(n[l].hasOwnProperty(+a+o)){var u=+a+o,i=+a;0!==n[l][u].value&&n[l][u].value!==n[l][i].value||(n[l][i].value+=n[l][u].value,0!==n[l][u].value&&(this.gameScore+=n[l][i].value),n[l][u].value=0)}break;case"right":o=-1;for(var l in n)for(var a in n[l])if(n[l].hasOwnProperty(r-1-+a+o)){var u=r-1-+a+o,i=r-1-+a;0!==n[l][u].value&&n[l][u]!==n[l][i]||(n[l][i].value+=n[l][u].value,0!==n[l][u].value&&(this.gameScore+=n[l][i].value),n[l][u].value=0)}}return n},n.prototype.checkStatus=function(n){this.deepCopyArray(n);this.log("æ£€æŸ¥è¾“èµ¢"),this.checkLose(n),this.checkWin(n)},n.prototype.checkLose=function(n){var t=this;if(this.isFull(n)){for(var e in n)for(var r in n[e])if(n.hasOwnProperty(+e+1)&&!(n[e][r].value!==n[+e+1][r].value))return!1;for(var e in n)for(var r in n[e])if(n[e].hasOwnProperty(+r+1)&&!(n[e][r].value!==n[e][+r+1].value))return!1;return this.gameStatus=-1,setTimeout(function(){t.gameAlert("game over")},100),!0}},n.prototype.checkWin=function(n){for(var t=this,e=0,r=n;e<r.length;e++)for(var o=r[e],l=0,a=o;l<a.length;l++){var u=a[l];2048===u.value&&0===this.gameStatus&&(this.gameStatus=1,setTimeout(function(){t.gameAlert("you win!")},100))}},n.prototype.setNotNew=function(){for(var n=0,t=this.showArray;n<t.length;n++)for(var e=t[n],r=0,o=e;r<o.length;r++){var l=o[r];l.isNew=!1}},n.prototype.gridCellStyle=function(n){var t="3em";switch(n>=1024&&(t="2em",n>=16348&&(t="1.5em")),n){case 2:return{"background-color":"#ffd180","font-size":t};case 4:return{"background-color":"#ffab40","font-size":t};case 8:return{color:"#fff","background-color":"#ff9100","font-size":t};case 16:return{color:"#fff","background-color":"#ff6d00","font-size":t};case 32:return{color:"#fff","background-color":"#ffab91","font-size":t};case 64:return{color:"#fff","background-color":"#ff8a65","font-size":t};case 128:return{color:"#fff","background-color":"#ff7043","font-size":t};case 256:return{color:"#fff","background-color":"#ff5722","font-size":t};case 512:return{color:"#fff","background-color":"#f4511e","font-size":t};case 1024:return{color:"#fff","background-color":"#e64a19","font-size":t};case 2048:return{color:"#fff","background-color":"#d84315","font-size":t};case 4096:return{color:"#fff","background-color":"#bf360c","font-size":t};case 8192:case 16384:return{color:"#fff","background-color":"#dd2c00","font-size":t}}},n.prototype.compareArray=function(n,t){if(this.log("compareArray"),this.log(n),this.log(t),n.length!==t.length)return this.log(!1),!1;for(var e in n)for(var r in n[e])if(n[e][r].value!==t[e][r].value)return this.log(!1),!1;return this.log(!0),!0},n.prototype.deepCopyArray=function(n){return this.log("deepCopyArray"),n.map(function(n){return n.map(function(n){return new l(n.value,!1)})})},n.prototype.gameAlert=function(n){alert(n)},n.prototype.log=function(n){console.log(n)},n}(),l=function(){function n(n,t){this.isNew=t,this.value=n}return n}(),a=function(){function n(n,t,e){this.row=n,this.column=t,this.value=e}return n}()}},[0]);