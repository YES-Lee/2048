webpackJsonp([1],{"+h1B":function(n,t,r){"use strict";var o=r("/oeL"),e=r("aR8+"),l=r("wQAS"),i=r("q4dy"),a=r("qbdv"),u=r("fc+i"),c=r("bm2B"),s=r("CPp0"),f=r("Npun");r.d(t,"a",function(){return h});var h=o.b(e.a,[l.a],function(n){return o.c([o.d(512,o.e,o.f,[[8,[i.a]],[3,o.e],o.g]),o.d(5120,o.h,o.i,[[3,o.h]]),o.d(4608,a.a,a.b,[o.h]),o.d(4608,o.j,o.j,[]),o.d(5120,o.k,o.l,[]),o.d(5120,o.m,o.n,[]),o.d(5120,o.o,o.p,[]),o.d(4608,u.b,u.c,[a.c]),o.d(6144,o.q,null,[u.b]),o.d(4608,u.d,u.e,[]),o.d(5120,u.f,function(n,t,r,o){return[new u.g(n),new u.h(t),new u.i(r,o)]},[a.c,a.c,a.c,u.d]),o.d(4608,u.j,u.j,[u.f,o.r]),o.d(135680,u.k,u.k,[a.c]),o.d(4608,u.l,u.l,[u.j,u.k]),o.d(6144,o.s,null,[u.l]),o.d(6144,u.m,null,[u.k]),o.d(4608,o.t,o.t,[o.r]),o.d(4608,u.n,u.n,[a.c]),o.d(4608,u.o,u.o,[a.c]),o.d(4608,c.a,c.a,[]),o.d(4608,s.a,s.a,[]),o.d(4608,s.b,s.c,[]),o.d(5120,s.d,s.e,[]),o.d(4608,s.f,s.f,[s.a,s.b,s.d]),o.d(4608,s.g,s.h,[]),o.d(5120,s.i,s.j,[s.f,s.g]),o.d(4608,f.a,f.a,[]),o.d(512,a.d,a.d,[]),o.d(1024,o.u,u.p,[]),o.d(1024,o.v,function(n,t){return[u.q(n,t)]},[[2,u.r],[2,o.w]]),o.d(512,o.x,o.x,[[2,o.v]]),o.d(131584,o.y,o.y,[o.r,o.z,o.A,o.u,o.e,o.x]),o.d(2048,o.B,null,[o.y]),o.d(512,o.C,o.C,[o.B]),o.d(512,u.s,u.s,[[3,u.s]]),o.d(512,c.b,c.b,[]),o.d(512,c.c,c.c,[]),o.d(512,s.k,s.k,[]),o.d(512,e.a,e.a,[])])})},0:function(n,t,r){n.exports=r("cDNt")},NhKt:function(n,t,r){"use strict";r.d(t,"a",function(){return o});var o=['.game-container[_ngcontent-%COMP%]{position:absolute;width:440px;height:540px;top:0;left:0;bottom:0;right:0;margin:auto;color:#776e65;font-family:Clear Sans,Helvetica Neue,Arial,sans-serif}.game-header[_ngcontent-%COMP%]{height:120px}.game-header[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{font-size:5.5em;line-height:120px;float:left;margin-right:20px}.score[_ngcontent-%COMP%]{font-size:1.5em;padding:20px}.btn-new-game[_ngcontent-%COMP%]{padding:10px;border:none;background:#776e65;color:#fff;border-radius:3px;cursor:pointer;font-weight:700}.game-body[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#bbada0;border-radius:12px;padding:10px}.grid-cell[_ngcontent-%COMP%]{float:left;width:88px;height:88px;text-align:center;line-height:40px;padding:6px;background-color:hsla(30,37%,89%,.5);background-clip:content-box;border-radius:10px}.item-span[_ngcontent-%COMP%]{display:block;width:100%;height:100%;line-height:96px;font-weight:700;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-iteration-count:1;animation-iteration-count:1}.clearfix[_ngcontent-%COMP%]:after{content:"";display:block;height:0;clear:both;overflow:hidden}.clearfix[_ngcontent-%COMP%]{zoom:1}']},Npun:function(n,t,r){"use strict";var o=r("5v8a");r.n(o);r.d(t,"a",function(){return e});var e=function(){function n(){}return n.ctorParameters=function(){return[]},n}()},"aR8+":function(n,t,r){"use strict";r.d(t,"a",function(){return o});var o=function(){function n(){}return n}()},cDNt:function(n,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("/oeL"),e=r("p5Ee"),l=r("+h1B"),i=r("fc+i");e.a.production&&r.i(o.a)(),r.i(i.a)().bootstrapModuleFactory(l.a)},p5Ee:function(n,t,r){"use strict";r.d(t,"a",function(){return o});var o={production:!0}},q4dy:function(n,t,r){"use strict";function o(n){return c._17(0,[(n()(),c._18(0,null,null,1,"span",[["class","item-span animated zoomIn"]],null,null,null,null,null)),(n()(),c._19(null,["\n          ","\n        "]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit)})}function e(n){return c._17(0,[(n()(),c._18(0,null,null,5,"div",[["class","grid-cell"]],null,null,null,null,null)),c._20(278528,null,0,s.h,[c.o,c.Z,c._0],{ngStyle:[0,"ngStyle"]},null),(n()(),c._19(null,["\n        "])),(n()(),c._21(16777216,null,null,1,null,o)),c._20(16384,null,0,s.i,[c._2,c._3],{ngIf:[0,"ngIf"]},null),(n()(),c._19(null,["\n      "]))],function(n,t){n(t,1,0,t.component.gridCellStyle(t.context.$implicit)),n(t,4,0,0!==t.context.$implicit)},null)}function l(n){return c._17(0,[(n()(),c._18(0,null,null,4,"div",[["class","grid-row"]],null,null,null,null,null)),(n()(),c._19(null,["\n      "])),(n()(),c._21(16777216,null,null,1,null,e)),c._20(802816,null,0,s.j,[c._2,c._3,c.m],{ngForOf:[0,"ngForOf"]},null),(n()(),c._19(null,["\n    "]))],function(n,t){n(t,3,0,t.context.$implicit)},null)}function i(n){return c._17(0,[(n()(),c._19(null,["\n"])),(n()(),c._18(0,null,null,19,"div",[["class","game-container"]],null,[[null,"keyup"]],function(n,t,r){var o=!0,e=n.component;if("keyup"===t){o=!1!==e.moveTo(r)&&o}return o},null,null)),(n()(),c._19(null,["\n  "])),(n()(),c._18(0,null,null,10,"div",[["class","game-header"]],null,null,null,null,null)),(n()(),c._19(null,["\n    "])),(n()(),c._18(0,null,null,1,"h1",[["class","title clearfix"]],null,null,null,null,null)),(n()(),c._19(null,["2048"])),(n()(),c._19(null,["\n    "])),(n()(),c._18(0,null,null,1,"h2",[["class","score"]],null,null,null,null,null)),(n()(),c._19(null,["Scor：",""])),(n()(),c._19(null,["\n    "])),(n()(),c._18(0,null,null,1,"button",[["class","btn-new-game"]],null,[[null,"click"]],function(n,t,r){var o=!0,e=n.component;if("click"===t){o=!1!==e.initGameData()&&o}return o},null,null)),(n()(),c._19(null,["New Game"])),(n()(),c._19(null,["\n  "])),(n()(),c._19(null,["\n  "])),(n()(),c._18(0,null,null,4,"div",[["class","game-body"]],null,null,null,null,null)),(n()(),c._19(null,["\n    "])),(n()(),c._21(16777216,null,null,1,null,l)),c._20(802816,null,0,s.j,[c._2,c._3,c.m],{ngForOf:[0,"ngForOf"]},null),(n()(),c._19(null,["\n  "])),(n()(),c._19(null,["\n"]))],function(n,t){n(t,18,0,t.component.showArray)},function(n,t){n(t,9,0,t.component.gameScore)})}function a(n){return c._17(0,[(n()(),c._18(0,null,null,1,"app-root",[],null,[["window","keyup"]],function(n,t,r){var o=!0;if("window:keyup"===t){o=!1!==c._22(n,1).moveTo(r)&&o}return o},i,d)),c._20(114688,null,0,f.a,[],null,null)],function(n,t){n(t,1,0)},null)}var u=r("NhKt"),c=r("/oeL"),s=r("qbdv"),f=r("wQAS");r.d(t,"a",function(){return p});var h=[u.a],d=c._16({encapsulation:0,styles:h,data:{}}),p=c._23("app-root",f.a,a,{},{},[])},qtrl:function(n,t){function r(n){throw new Error("Cannot find module '"+n+"'.")}r.keys=function(){return[]},r.resolve=r,n.exports=r,r.id="qtrl"},wQAS:function(n,t,r){"use strict";var o=r("5v8a");r.n(o);r.d(t,"a",function(){return e});var e=function(){function n(){this.gameStatus=0,this.gameMatrix=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],this.gameScore=0}return n.prototype.ngOnInit=function(){this.initGameData()},n.prototype.initGameData=function(){this.showArray=this.deepCopyArray(this.gameMatrix);var n=this.generateRandomNumber(),t=this.generateRandomNumber();this.showArray[n.row][n.column]=n.value,this.showArray[t.row][t.column]=t.value,this.gameStatus=0,this.gameScore=0},n.prototype.addNumber=function(n){if(this.log("addNumber"),this.isFull(n))return this.log("matrix is full!"),n;var t=this.generateRandomNumber();return 0!==n[t.row][t.column]?this.addNumber(n):(0===n[t.row][t.column]&&(n[t.row][t.column]=t.value),n)},n.prototype.generateRandomNumber=function(){var n=Math.round(9*Math.random())>7?4:2;return new l(Math.round(3*Math.random()),Math.round(3*Math.random()),n)},n.prototype.isFull=function(n){for(var t=0,r=n;t<r.length;t++)for(var o=r[t],e=0,l=o;e<l.length;e++){var i=l[e];if(0===i)return!1}return!0},n.prototype.moveTo=function(n){if(-1!==this.gameStatus){switch(n.keyCode){case 37:this.showArray=this.moveLeftOrRight(this.showArray,"left");break;case 38:this.showArray=this.moveUpOrDown(this.showArray,"up");break;case 39:this.showArray=this.moveLeftOrRight(this.showArray,"right");break;case 40:this.showArray=this.moveUpOrDown(this.showArray,"down")}this.checkStatus(this.showArray)}},n.prototype.moveUpOrDown=function(n,t){this.log("up");var r=this.deepCopyArray(n);return this.log(t),n=this.moveRow(this.mergeRow(this.moveRow(n,t),t),t),this.compareArray(r,n)?n:this.addNumber(n)},n.prototype.moveLeftOrRight=function(n,t){this.log("up");var r=this.deepCopyArray(n);return this.log(t),n=this.moveCol(this.mergeCol(this.moveCol(n,t),t),t),this.compareArray(r,n)?n:this.addNumber(n)},n.prototype.moveRow=function(n,t,r){if(void 0===r&&(r=1),r===n.length)return n;var o=1;switch(t){case"up":o=-1;break;case"down":o=1}for(var e in n)for(var l in n[e])if(n.hasOwnProperty(+e+o)){var i=+e+o,a=+e;0===n[i][l]&&(n[i][l]=n[a][l],n[a][l]=0)}return this.moveRow(n,t,r+1),n},n.prototype.mergeRow=function(n,t,r){void 0===r&&(r=1),this.log("mergeRow");var o=n.length;if(r===o)return n;var e=1;switch(t){case"up":for(var l in n)for(var i in n[l])if(n.hasOwnProperty(+l+e)){var a=+l+e,u=+l;0!==n[a][i]&&n[a][i]!==n[u][i]||(n[u][i]+=n[a][i],0!==n[a][i]&&(this.gameScore+=n[u][i]),n[a][i]=0)}break;case"down":e=-1;for(var l in n)for(var i in n[l])if(n.hasOwnProperty(o-1-+l+e)){var a=o-1-+l+e,u=o-1-+l;0!==n[a][i]&&n[a][i]!==n[u][i]||(n[u][i]+=n[a][i],0!==n[a][i]&&(this.gameScore+=n[u][i]),n[a][i]=0)}}return n},n.prototype.moveCol=function(n,t,r){if(void 0===r&&(r=1),r===n[0].length)return n;var o=1;switch(t){case"left":o=-1;break;case"right":o=1}for(var e in n)for(var l in n[e])if(n[e].hasOwnProperty(+l+o)){var i=+l+o,a=+l;0===n[e][i]&&(n[e][i]=n[e][a],n[e][a]=0)}return this.moveCol(n,t,r+1),n},n.prototype.mergeCol=function(n,t,r){void 0===r&&(r=1),this.log("mergeCol");var o=n[0].length;if(r===o)return n;var e=1;switch(t){case"left":for(var l in n)for(var i in n[l])if(n[l].hasOwnProperty(+i+e)){var a=+i+e,u=+i;0!==n[l][a]&&n[l][a]!==n[l][u]||(n[l][u]+=n[l][a],0!==n[l][a]&&(this.gameScore+=n[l][u]),n[l][a]=0)}break;case"right":e=-1;for(var l in n)for(var i in n[l])if(n[l].hasOwnProperty(o-1-+i+e)){var a=o-1-+i+e,u=o-1-+i;0!==n[l][a]&&n[l][a]!==n[l][u]||(n[l][u]+=n[l][a],0!==n[l][a]&&(this.gameScore+=n[l][u]),n[l][a]=0)}}return n},n.prototype.checkStatus=function(n){this.deepCopyArray(n);this.log("检查输赢"),this.checkLose(n),this.checkWin(n)},n.prototype.checkLose=function(n){var t=this;if(this.isFull(n)){for(var r in n)for(var o in n[r])if(n.hasOwnProperty(+r+1)&&!(n[r][o]!==n[+r+1][o]))return!1;for(var r in n)for(var o in n[r])if(n[r].hasOwnProperty(+o+1)&&!(n[r][o]!==n[r][+o+1]))return!1;return this.gameStatus=-1,setTimeout(function(){t.gameAlert("game over")},100),!0}},n.prototype.checkWin=function(n){for(var t=this,r=0,o=n;r<o.length;r++)for(var e=o[r],l=0,i=e;l<i.length;l++){var a=i[l];2048===a&&0===this.gameStatus&&(this.gameStatus=1,setTimeout(function(){t.gameAlert("you win!")},100))}},n.prototype.gridCellStyle=function(n){var t="3em";switch(n>=1024&&(t="2em",n>=16348&&(t="1.5em")),n){case 2:return{"background-color":"#ffd180","font-size":t};case 4:return{"background-color":"#ffab40","font-size":t};case 8:return{color:"#fff","background-color":"#ff9100","font-size":t};case 16:return{color:"#fff","background-color":"#ff6d00","font-size":t};case 32:return{color:"#fff","background-color":"#ffab91","font-size":t};case 64:return{color:"#fff","background-color":"#ff8a65","font-size":t};case 128:return{color:"#fff","background-color":"#ff7043","font-size":t};case 256:return{color:"#fff","background-color":"#ff5722","font-size":t};case 512:return{color:"#fff","background-color":"#f4511e","font-size":t};case 1024:return{color:"#fff","background-color":"#e64a19","font-size":t};case 2048:return{color:"#fff","background-color":"#d84315","font-size":t};case 4096:return{color:"#fff","background-color":"#bf360c","font-size":t};case 8192:case 16384:return{color:"#fff","background-color":"#dd2c00","font-size":t}}},n.prototype.compareArray=function(n,t){if(this.log("compareArray"),this.log(n),this.log(t),n.length!==t.length)return this.log(!1),!1;for(var r in n)for(var o in n[r])if(n[r][o]!==t[r][o])return this.log(!1),!1;return this.log(!0),!0},n.prototype.deepCopyArray=function(n){return this.log("deepCopyArray"),n.map(function(n){return n.map(function(n){return n})})},n.prototype.gameAlert=function(n){alert(n)},n.prototype.log=function(n){console.log(n)},n}(),l=function(){function n(n,t,r){this.row=n,this.column=t,this.value=r}return n}()}},[0]);